import{t as f}from"./index.BBNXm_8Y.js";import{g as S}from"./index.Dv3yreCj.js";import{_ as p,g as b,I as h}from"./_plugin-vue_export-helper.DqBN71eW.js";import{B as y}from"./Basic.DPpdb6On.js";/* empty css                      */import{c as g,F as x,r as T,o as l,a as _,w as c,b as o,d as B,e as d,f as V,t as k}from"./runtime-dom.esm-bundler.BQ86NAFe.js";import{S as w}from"./Default.CsRuOC0S.js";import{B as v}from"./Breadcrumbs.CwCbXc7E.js";import"./landings.Fs2A2SQT.js";import"./index.BMPHkLeA.js";/* empty css                      *//* empty css                      *//* empty css                      */function u(s){const i=()=>{const a=t().reduce((r,m)=>r+parseInt(m.time),0);return`${Math.ceil(a/60)} min`},t=()=>S().filter(a=>a.saga===s.key);return{getStories:t,getTime:i,firstParagraph:()=>s.description.split(`
`).filter(a=>a.trim()!=="")[0],html:()=>s.description.split(`
`).filter(a=>a.trim()!=="").map((a,r)=>`<p key=${r}>${a}</p>`).join("<br>")}}const C={__name:"SagaStories",props:{saga:{default:{},type:Object}},setup(s,{expose:i}){i();const t=s,{getStories:e}=u(t.saga),n=e(),a={props:t,getStories:e,stories:n,BasicCard:y,get useSaga(){return u}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}},P={class:"sections-saga"};function j(s,i,t,e,n,a){return l(),g("div",P,[(l(!0),g(x,null,T(e.stories,r=>(l(),_(e.BasicCard,{slug:r.key,key:r.key,title:r.name,time:parseInt(r.time),isStory:""},null,8,["slug","title","time"]))),128))])}const H=p(C,[["render",j],["__scopeId","data-v-ac59869a"]]),I={__name:"SagaPage",props:{saga:{type:Object,default:{}}},setup(s,{expose:i}){i();const t=s,{getTime:e,html:n}=u(t.saga),a=e(),r=n(),m={props:t,getTime:e,html:n,totalTime:a,descriptionHtml:r,get t(){return f},get useSaga(){return u},get VText(){return h},get VContainer(){return b},SagaStories:H,SectionsDefault:w,Breadcrumbs:v};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}},N=["src","title"],O={class:"saga-page__title"},D=["innerHTML"];function L(s,i,t,e,n,a){return l(),_(e.VContainer,{size:"xl",class:"saga-page"},{default:c(()=>[o(e.Breadcrumbs,{"current-page":t.saga.name},null,8,["current-page"]),t.saga.youtube?(l(),g("iframe",{key:0,class:"saga-page__iframe",src:`https://www.youtube.com/embed/videoseries?list=${t.saga.youtube}`,title:`Saga Playlist: ${t.saga.name}`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,N)):B("",!0),o(e.VContainer,{class:"saga-page__content"},{default:c(()=>[d("div",O,[o(e.VText,{as:"h1",variant:"header"},{default:c(()=>[V(k(t.saga.name),1)]),_:1})]),o(e.VText,null,{default:c(()=>[d("article",{innerHTML:e.descriptionHtml},null,8,D)]),_:1})]),_:1}),o(e.SectionsDefault,{title:`${e.t("page.saga.stories")}(${e.totalTime})`},{default:c(()=>[o(e.SagaStories,{saga:t.saga},null,8,["saga"])]),_:1},8,["title"])]),_:1})}const W=p(I,[["render",L]]);export{W as default};
