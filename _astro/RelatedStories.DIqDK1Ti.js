import{y as S,I as k}from"./index-FitP4J_6.zeNsfuqk.js";import{b as v}from"./index.brZL-3I0.js";import{t as x}from"./index.OSe-SMOM.js";/* empty css                      */import{_ as V}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{g as m,b as h,e as o,a as n,c as b,w as l,F as T,h as N,j as i,o as c,d,t as s}from"./runtime-core.esm-bundler.BXO2FSco.js";import"./runtime-dom.esm-bundler.C5aP_0aL.js";const B={__name:"RelatedStories",props:{currentStory:{type:Object,default:()=>({})},allStories:{type:Array,required:!0},allSagas:{type:Array,default:()=>[]}},setup(u,{expose:y}){y();const t=u,e="es",_=i(()=>t.currentStory?.saga?t.allSagas.find(a=>a.key===t.currentStory.saga):null),f=i(()=>_.value?.name||null),r=i(()=>t.currentStory?.saga?t.allStories.filter(a=>a.saga===t.currentStory.saga&&a.key!==t.currentStory.key).slice(0,4):[]),g={props:t,lang:e,currentSaga:_,sagaName:f,relatedStories:r,formatTime:a=>{if(!a)return"0";const p=parseFloat(a.replace(",","."));return Math.round(p/60)||Math.round(p)},computed:i,get VText(){return k},get VImage(){return S},get toStory(){return v},get t(){return x}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},I={key:0,class:"related-stories"},j={class:"related-stories__header"},w={class:"related-stories__grid"},F=["href"],A={class:"related-story__image"},C={class:"related-story__content"};function M(u,y,t,e,_,f){return e.relatedStories.length>0?(c(),m("section",I,[o("div",j,[n(e.VText,{as:"h3",variant:"subtitle",color:"high"},{default:l(()=>[d(s(e.t("story.related.title")),1)]),_:1}),e.sagaName?(c(),b(e.VText,{key:0,as:"p",variant:"caption",color:"medium"},{default:l(()=>[d(s(e.t("story.related.from_saga"))+": "+s(e.sagaName),1)]),_:1})):h("",!0)]),o("div",w,[(c(!0),m(T,null,N(e.relatedStories,r=>(c(),m("article",{key:r.key,class:"related-story"},[o("a",{href:e.toStory(r.key),class:"related-story__link"},[o("div",A,[n(e.VImage,{src:`/assets/stories/${e.lang}/${r.key}.webp`,alt:r.name,loading:"lazy"},null,8,["src","alt"])]),o("div",C,[n(e.VText,{as:"h4",variant:"body",color:"high",class:"related-story__title"},{default:l(()=>[d(s(r.name),1)]),_:2},1024),n(e.VText,{as:"p",variant:"caption",color:"medium",class:"related-story__time"},{default:l(()=>[d(s(e.formatTime(r.time))+" min ",1)]),_:2},1024)])],8,F)]))),128))])])):h("",!0)}const G=V(B,[["render",M],["__scopeId","data-v-06ba040a"]]);export{G as default};
