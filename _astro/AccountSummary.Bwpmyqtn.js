import{I as w}from"./index-FitP4J_6.BPTo_1p2.js";import{u as v}from"./useStories.D9dHQne9.js";import{u as p}from"./useAchievements.BTRLkYvK.js";import{f as P,m as F,n as x,o as R}from"./index.brZL-3I0.js";import{_ as D}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{g as I,e as t,t as c,r as u,f as y,k as h,o as B}from"./runtime-core.esm-bundler.BLIdz6c-.js";import"./runtime-dom.esm-bundler.BbeENm1T.js";import"./index.CLpcdzyz.js";import"./landings.D6rrVUZj.js";import"./useStory.BjWbYEWD.js";import"./achievementEvents.DHKWVqNG.js";const K={__name:"AccountSummary",props:{lang:{type:String,default:"es"}},setup(_,{expose:s}){s();const l=_,{getAllStories:a}=v(),{unlockedAchievements:m}=p(),d=u(0),n=u(0),f=u(0);y(()=>{if(!(typeof localStorage>"u"))try{const i=localStorage.getItem("storiesData"),o=a();if(!i){n.value=o.length;return}const r=JSON.parse(i);if(!Array.isArray(r)){n.value=o.length;return}const S=new Set(r.filter(e=>e&&e.finished===!0).map(e=>e.key));d.value=o.filter(e=>S.has(e.key)).length;const b=new Set(r.filter(e=>e&&e.finished!==!0).map(e=>e.key)),k=new Set(r.filter(e=>e).map(e=>e.key));n.value=o.filter(e=>b.has(e.key)||!k.has(e.key)).length;const C=r.filter(e=>e&&e.like===!0).map(e=>e.key);f.value=o.filter(e=>C.includes(e.key)).length}catch(i){console.error("Error al calcular resúmenes de cuenta:",i)}});const A=h(()=>m.value.length),g={props:l,getAllStories:a,unlockedAchievements:m,readCount:d,pendingCount:n,favoriteCount:f,achievementCount:A,computed:h,ref:u,onMounted:y,get VText(){return w},get useStories(){return v},get useAchievements(){return p},get toAccountRead(){return R},get toAccountPending(){return x},get toAccountFavorites(){return F},get toAccountAchievements(){return P}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},E={class:"account-summary"},L={class:"account-summary__grid"},N=["href"],O={class:"account-summary__card-number"},V={class:"account-summary__card-label"},j=["href"],J={class:"account-summary__card-number"},M={class:"account-summary__card-label"},T=["href"],q={class:"account-summary__card-number"},z={class:"account-summary__card-label"},G=["href"],H={class:"account-summary__card-number"},Q={class:"account-summary__card-label"};function U(_,s,l,a,m,d){return B(),I("div",E,[t("div",L,[t("a",{href:a.toAccountRead(),class:"account-summary__card account-summary__card--read"},[s[0]||(s[0]=t("div",{class:"account-summary__card-icon"},[t("img",{src:"/assets/account/read.webp",alt:"Read",class:"account-summary__icon-image"})],-1)),t("div",O,c(a.readCount),1),t("div",V,c(a.props.lang==="es"?"Leídos":"Read"),1)],8,N),t("a",{href:a.toAccountPending(),class:"account-summary__card account-summary__card--pending"},[s[1]||(s[1]=t("div",{class:"account-summary__card-icon"},[t("img",{src:"/assets/account/pending.webp",alt:"Pending",class:"account-summary__icon-image"})],-1)),t("div",J,c(a.pendingCount),1),t("div",M,c(a.props.lang==="es"?"Pendientes":"Pending"),1)],8,j),t("a",{href:a.toAccountFavorites(),class:"account-summary__card account-summary__card--favorites"},[s[2]||(s[2]=t("div",{class:"account-summary__card-icon"},[t("img",{src:"/assets/account/favorites.webp",alt:"Favorites",class:"account-summary__icon-image"})],-1)),t("div",q,c(a.favoriteCount),1),t("div",z,c(a.props.lang==="es"?"Favoritos":"Favorites"),1)],8,T),t("a",{href:a.toAccountAchievements(),class:"account-summary__card account-summary__card--achievements"},[s[3]||(s[3]=t("div",{class:"account-summary__card-icon"},[t("img",{src:"/assets/account/achievements.webp",alt:"Achievements",class:"account-summary__icon-image"})],-1)),t("div",H,c(a.achievementCount),1),t("div",Q,c(a.props.lang==="es"?"Logros":"Achievements"),1)],8,G)])])}const re=D(K,[["render",U],["__scopeId","data-v-81f7a9bf"]]);export{re as default};
