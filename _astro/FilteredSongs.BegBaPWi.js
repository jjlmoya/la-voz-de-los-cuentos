import{t as D}from"./index.OSe-SMOM.js";import{A as T,I as N,w as b,g as A}from"./index-FitP4J_6.zeNsfuqk.js";import{L as F}from"./LoadingMessage.DPeHKgSt.js";import{S as I}from"./SongList.CKNVCT4e.js";import{g as x}from"./index.CLpcdzyz.js";/* empty css                         */import{_ as z}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{g as Q,a as d,e as j,w as n,c as u,r as _,j as k,o as c,i as V,d as g,b as h,t as m}from"./runtime-core.esm-bundler.BXO2FSco.js";import"./runtime-dom.esm-bundler.C5aP_0aL.js";/* empty css                         *//* empty css                       */import"./index.brZL-3I0.js";import"./landings.D6rrVUZj.js";const M={__name:"FilteredSongs",setup(C,{expose:t}){t();const v=x(),e=_(""),i=_("date"),f=_("desc"),a=_(!1),O=s=>{a.value=!0,i.value===s?p():i.value=s,setTimeout(()=>{a.value=!1},1e3)},p=()=>{f.value=f.value==="asc"?"desc":"asc"},S=s=>{const[r,o,l]=s.split("/").map(Number);return new Date(l,o-1,r)},L=k(()=>{let s=v;if(e.value){const r=e.value.toLowerCase();s=s.filter(o=>o.name.toLowerCase().includes(r))}return s.slice().sort((r,o)=>{let l=0;if(i.value==="date")l=S(r.date)-S(o.date);else if(i.value==="time"){const w=r.duration||(r.time?parseFloat(String(r.time).replace(",",".")):0),B=o.duration||(o.time?parseFloat(String(o.time).replace(",",".")):0);l=w-B}else i.value==="name"&&(l=r.name.localeCompare(o.name));return f.value==="asc"?l:-l})}),y={songs:v,searchQuery:e,sortOrder:i,sortDirection:f,isLoading:a,setSortOrder:O,toggleSortDirection:p,parseDate:S,filteredAndSortedSongs:L,get t(){return D},get VContainer(){return A},get VButton(){return b},get VText(){return N},get VInput(){return T},ref:_,computed:k,LoadingMessage:F,SongList:I,get getSongs(){return x}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},q={class:"sections-filtered"},E={class:"sections-filtered__content sections-filtered__content--songs"};function P(C,t,v,e,i,f){return c(),Q("div",q,[d(e.VContainer,{class:"sections-filtered__search-bar",size:"xs"},{default:n(()=>[d(e.VInput,{type:"text",modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchQuery=a),placeholder:e.t("page.songs.searcher.placeholder"),class:"search-input"},null,8,["modelValue","placeholder"])]),_:1}),d(e.VContainer,{class:"sections-filtered__bar",size:"xs"},{default:n(()=>[d(e.VButton,{variant:"ghost",class:V({active:e.sortOrder==="date"}),onClick:t[1]||(t[1]=a=>e.setSortOrder("date"))},{default:n(()=>[g(m(e.t("page.songs.order.date"))+" ",1),e.sortOrder==="date"?(c(),u(e.VText,{key:0,color:"high"},{default:n(()=>[g(m(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):h("",!0)]),_:1},8,["class"]),d(e.VButton,{variant:"ghost",class:V({active:e.sortOrder==="time"}),onClick:t[2]||(t[2]=a=>e.setSortOrder("time"))},{default:n(()=>[g(m(e.t("page.songs.order.duration"))+" ",1),e.sortOrder==="time"?(c(),u(e.VText,{key:0,color:"high"},{default:n(()=>[g(m(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):h("",!0)]),_:1},8,["class"]),d(e.VButton,{variant:"ghost",class:V({active:e.sortOrder==="name"}),onClick:t[3]||(t[3]=a=>e.setSortOrder("name"))},{default:n(()=>[g(m(e.t("page.songs.order.name"))+" ",1),e.sortOrder==="name"?(c(),u(e.VText,{key:0,color:"high"},{default:n(()=>[g(m(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):h("",!0)]),_:1},8,["class"])]),_:1}),j("div",E,[e.isLoading?(c(),u(e.LoadingMessage,{key:0,messages:[e.t("loading.adventure"),e.t("loading.book"),e.t("loading.characters"),e.t("loading.worlds"),e.t("loading.potions"),e.t("loading.treasures")],interval:1500},null,8,["messages"])):(c(),u(e.SongList,{key:1,songs:e.filteredAndSortedSongs},null,8,["songs"]))])])}const re=z(M,[["render",P],["__scopeId","data-v-69389faf"]]);export{re as default};
