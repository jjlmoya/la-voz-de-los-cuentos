import{t as w}from"./index.D3Lt6ofz.js";import{_ as B,A as D,I as T,w as b,g as N}from"./_plugin-vue_export-helper.BpNMFbcL.js";import{L as A}from"./LoadingMessage.DeVQ2cCK.js";import{S as F}from"./SongList.Uz32loVb.js";import{a as x}from"./index.C8oHcxzd.js";/* empty css                         */import{c as I,b as d,e as z,w as a,a as _,g as u,j as k,o as c,m as S,f as g,d as h,t as m}from"./runtime-dom.esm-bundler.n5zixiYy.js";/* empty css                         *//* empty css                       */import"./index.BMPHkLeA.js";import"./landings.Fs2A2SQT.js";const Q={__name:"FilteredSongs",setup(C,{expose:t}){t();const v=x(),e=u(""),s=u("date"),f=u("desc"),r=u(!1),O=o=>{r.value=!0,s.value===o?y():s.value=o,setTimeout(()=>{r.value=!1},1e3)},y=()=>{f.value=f.value==="asc"?"desc":"asc"},V=o=>{const[n,i,l]=o.split("/").map(Number);return new Date(l,i-1,n)},L=k(()=>{let o=v;if(e.value){const n=e.value.toLowerCase();o=o.filter(i=>i.name.toLowerCase().includes(n))}return o.slice().sort((n,i)=>{let l=0;return s.value==="date"?l=V(n.date)-V(i.date):s.value==="time"?l=parseFloat(n.time.replace(",","."))-parseFloat(i.time.replace(",",".")):s.value==="name"&&(l=n.name.localeCompare(i.name)),f.value==="asc"?l:-l})}),p={songs:v,searchQuery:e,sortOrder:s,sortDirection:f,isLoading:r,setSortOrder:O,toggleSortDirection:y,parseDate:V,filteredAndSortedSongs:L,get t(){return w},get VContainer(){return N},get VButton(){return b},get VText(){return T},get VInput(){return D},ref:u,computed:k,LoadingMessage:A,SongList:F,get getSongs(){return x}};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}},j={class:"sections-filtered"},M={class:"sections-filtered__content sections-filtered__content--songs"};function q(C,t,v,e,s,f){return c(),I("div",j,[d(e.VContainer,{class:"sections-filtered__search-bar",size:"xs"},{default:a(()=>[d(e.VInput,{type:"text",modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=r=>e.searchQuery=r),placeholder:e.t("page.songs.searcher.placeholder"),class:"search-input"},null,8,["modelValue","placeholder"])]),_:1}),d(e.VContainer,{class:"sections-filtered__bar",size:"xs"},{default:a(()=>[d(e.VButton,{variant:"ghost",class:S({active:e.sortOrder==="date"}),onClick:t[1]||(t[1]=r=>e.setSortOrder("date"))},{default:a(()=>[g(m(e.t("page.songs.order.date"))+" ",1),e.sortOrder==="date"?(c(),_(e.VText,{key:0,color:"high"},{default:a(()=>[g(m(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):h("",!0)]),_:1},8,["class"]),d(e.VButton,{variant:"ghost",class:S({active:e.sortOrder==="time"}),onClick:t[2]||(t[2]=r=>e.setSortOrder("time"))},{default:a(()=>[g(m(e.t("page.songs.order.duration"))+" ",1),e.sortOrder==="time"?(c(),_(e.VText,{key:0,color:"high"},{default:a(()=>[g(m(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):h("",!0)]),_:1},8,["class"]),d(e.VButton,{variant:"ghost",class:S({active:e.sortOrder==="name"}),onClick:t[3]||(t[3]=r=>e.setSortOrder("name"))},{default:a(()=>[g(m(e.t("page.songs.order.name"))+" ",1),e.sortOrder==="name"?(c(),_(e.VText,{key:0,color:"high"},{default:a(()=>[g(m(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):h("",!0)]),_:1},8,["class"])]),_:1}),z("div",M,[e.isLoading?(c(),_(e.LoadingMessage,{key:0,messages:[e.t("loading.adventure"),e.t("loading.book"),e.t("loading.characters"),e.t("loading.worlds"),e.t("loading.potions"),e.t("loading.treasures")],interval:1500},null,8,["messages"])):(c(),_(e.SongList,{key:1,songs:e.filteredAndSortedSongs},null,8,["songs"]))])])}const Z=B(Q,[["render",q],["__scopeId","data-v-d7f5a83d"]]);export{Z as default};
