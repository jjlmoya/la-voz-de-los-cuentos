import{I as w}from"./index-FitP4J_6.QqNa7N4F.js";import{u as v}from"./useStories.0FRDVsyE.js";import{u as y}from"./useAchievements.y958XTq0.js";import{f as P,m as F,n as x,o as R}from"./index.Dj5k6ggm.js";import{_ as D}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{g as I,e,t as c,r as u,f as p,j as h,o as B}from"./runtime-core.esm-bundler.OheDorFq.js";import"./runtime-dom.esm-bundler.0lIbTe_P.js";import"./index.C0UmanwU.js";import"./landings.D6rrVUZj.js";import"./useStory.BLu1k2WU.js";import"./achievementEvents.5tIAHR5d.js";const K={__name:"AccountSummary",props:{lang:{type:String,default:"es"}},setup(_,{expose:a}){a();const l=_,{getAllStories:s}=v(),{unlockedAchievements:m}=y(),d=u(0),n=u(0),g=u(0);p(()=>{if(!(typeof localStorage>"u"))try{const i=localStorage.getItem("storiesData"),o=s();if(!i){n.value=o.length;return}const r=JSON.parse(i);if(!Array.isArray(r)){n.value=o.length;return}const S=new Set(r.filter(t=>t.finished===!0).map(t=>t.key));d.value=o.filter(t=>S.has(t.key)).length;const b=new Set(r.filter(t=>t.finished!==!0).map(t=>t.key)),k=new Set(r.map(t=>t.key));n.value=o.filter(t=>b.has(t.key)||!k.has(t.key)).length;const C=r.filter(t=>t.like===!0).map(t=>t.key);g.value=o.filter(t=>C.includes(t.key)).length}catch(i){console.error("Error al calcular resúmenes de cuenta:",i)}});const A=h(()=>m.value.length),f={props:l,getAllStories:s,unlockedAchievements:m,readCount:d,pendingCount:n,favoriteCount:g,achievementCount:A,computed:h,ref:u,onMounted:p,get VText(){return w},get useStories(){return v},get useAchievements(){return y},get toAccountRead(){return R},get toAccountPending(){return x},get toAccountFavorites(){return F},get toAccountAchievements(){return P}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}},j={class:"account-summary"},E={class:"account-summary__grid"},L=["href"],N={class:"account-summary__card-number"},O={class:"account-summary__card-label"},V=["href"],J={class:"account-summary__card-number"},M={class:"account-summary__card-label"},T=["href"],q={class:"account-summary__card-number"},z={class:"account-summary__card-label"},G=["href"],H={class:"account-summary__card-number"},Q={class:"account-summary__card-label"};function U(_,a,l,s,m,d){return B(),I("div",j,[e("div",E,[e("a",{href:s.toAccountRead(),class:"account-summary__card account-summary__card--read"},[a[0]||(a[0]=e("div",{class:"account-summary__card-icon"},[e("img",{src:"/assets/account/read.webp",alt:"Read",class:"account-summary__icon-image"})],-1)),e("div",N,c(s.readCount),1),e("div",O,c(s.props.lang==="es"?"Leídos":"Read"),1)],8,L),e("a",{href:s.toAccountPending(),class:"account-summary__card account-summary__card--pending"},[a[1]||(a[1]=e("div",{class:"account-summary__card-icon"},[e("img",{src:"/assets/account/pending.webp",alt:"Pending",class:"account-summary__icon-image"})],-1)),e("div",J,c(s.pendingCount),1),e("div",M,c(s.props.lang==="es"?"Pendientes":"Pending"),1)],8,V),e("a",{href:s.toAccountFavorites(),class:"account-summary__card account-summary__card--favorites"},[a[2]||(a[2]=e("div",{class:"account-summary__card-icon"},[e("img",{src:"/assets/account/favorites.webp",alt:"Favorites",class:"account-summary__icon-image"})],-1)),e("div",q,c(s.favoriteCount),1),e("div",z,c(s.props.lang==="es"?"Favoritos":"Favorites"),1)],8,T),e("a",{href:s.toAccountAchievements(),class:"account-summary__card account-summary__card--achievements"},[a[3]||(a[3]=e("div",{class:"account-summary__card-icon"},[e("img",{src:"/assets/account/achievements.webp",alt:"Achievements",class:"account-summary__icon-image"})],-1)),e("div",H,c(s.achievementCount),1),e("div",Q,c(s.props.lang==="es"?"Logros":"Achievements"),1)],8,G)])])}const re=D(K,[["render",U],["__scopeId","data-v-f28f1760"]]);export{re as default};
