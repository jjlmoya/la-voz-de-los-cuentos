import{t as f}from"./index.CqsgeKA1.js";import{g as S}from"./index.CpBoVfNN.js";import{_ as d,I as h,g as y}from"./_plugin-vue_export-helper.CCebKmzk.js";import{B as b}from"./Basic.BXuDvWQA.js";/* empty css                      */import{o as l,c as g,F as x,r as T,a as p,w as n,b as V,d as c,e as _,f as k,t as w}from"./runtime-dom.esm-bundler.D02XeAb0.js";import{S as v}from"./Default.BSV-DwXL.js";import"./index.DgijBu9w.js";/* empty css                      *//* empty css                      */function u(s){const i=()=>{const t=a().reduce((r,m)=>r+parseInt(m.time),0);return`${Math.ceil(t/60)} min`},a=()=>S().filter(t=>t.saga===s.key);return{getStories:a,getTime:i,firstParagraph:()=>s.description.split(`
`).filter(t=>t.trim()!=="")[0],html:()=>s.description.split(`
`).filter(t=>t.trim()!=="").map((t,r)=>`<p key=${r}>${t}</p>`).join("<br>")}}const B={__name:"SagaStories",props:{saga:{default:{},type:Object}},setup(s,{expose:i}){i();const a=s,{getStories:e}=u(a.saga),o=e(),t={props:a,getStories:e,stories:o,BasicCard:b,get useSaga(){return u}};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}},C={class:"sections-saga"};function P(s,i,a,e,o,t){return l(),g("div",C,[(l(!0),g(x,null,T(e.stories,r=>(l(),p(e.BasicCard,{slug:r.key,key:r.key,title:r.name,time:parseInt(r.time),isStory:""},null,8,["slug","title","time"]))),128))])}const j=d(B,[["render",P],["__scopeId","data-v-fe15cb33"]]),H={__name:"SagaPage",props:{saga:{type:Object,default:{}}},setup(s,{expose:i}){i();const a=s,{getTime:e,html:o}=u(a.saga),t=e(),r=o(),m={props:a,getTime:e,html:o,totalTime:t,descriptionHtml:r,get t(){return f},get useSaga(){return u},get VText(){return h},get VContainer(){return y},SagaStories:j,SectionsDefault:v};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}},I=["src","title"],N={class:"saga-page__title"},O=["innerHTML"];function D(s,i,a,e,o,t){return l(),p(e.VContainer,{size:"xl",class:"saga-page"},{default:n(()=>[a.saga.youtube?(l(),g("iframe",{key:0,class:"saga-page__iframe",src:`https://www.youtube.com/embed/videoseries?list=${a.saga.youtube}`,title:`Saga Playlist: ${a.saga.name}`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,I)):V("",!0),c(e.VContainer,{class:"saga-page__content"},{default:n(()=>[_("div",N,[c(e.VText,{as:"h1",variant:"header"},{default:n(()=>[k(w(a.saga.name),1)]),_:1})]),c(e.VText,null,{default:n(()=>[_("article",{innerHTML:e.descriptionHtml},null,8,O)]),_:1})]),_:1}),c(e.SectionsDefault,{title:`${e.t("page.saga.stories")}(${e.totalTime})`},{default:n(()=>[c(e.SagaStories,{saga:a.saga},null,8,["saga"])]),_:1},8,["title"])]),_:1})}const K=d(H,[["render",D]]);export{K as default};
