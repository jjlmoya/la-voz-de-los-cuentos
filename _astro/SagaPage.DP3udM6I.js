import{t as f}from"./index.BBvPNGtS.js";import{b as S}from"./index.C0UmanwU.js";import{g as y,I as h}from"./index-FitP4J_6.QqNa7N4F.js";import{B as b}from"./Basic.D9HyUR86.js";/* empty css                      */import{_}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{g as u,F as k,h as x,o as l,c as p,w as c,a as n,b as w,e as d,d as T,t as B}from"./runtime-core.esm-bundler.OheDorFq.js";import{S as V}from"./Default.CLMv2s9E.js";import{B as v}from"./Breadcrumbs.DkOmmuAk.js";import{L as C}from"./LanguageSwitcher.BSkKsDI8.js";import"./landings.D6rrVUZj.js";import"./runtime-dom.esm-bundler.0lIbTe_P.js";import"./index.Dj5k6ggm.js";import"./useStory.BLu1k2WU.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */function g(s){const i=()=>{const a=t().reduce((r,m)=>r+parseInt(m.time),0);return`${Math.ceil(a/60)} min`},t=()=>S().filter(a=>a.saga===s.key);return{getStories:t,getTime:i,firstParagraph:()=>s.description.split(`
`).filter(a=>a.trim()!=="")[0],html:()=>s.description.split(`
`).filter(a=>a.trim()!=="").map((a,r)=>`<p key=${r}>${a}</p>`).join("<br>")}}const P={__name:"SagaStories",props:{saga:{default:{},type:Object}},setup(s,{expose:i}){i();const t=s,{getStories:e}=g(t.saga),o=e(),a={props:t,getStories:e,stories:o,BasicCard:b,get useSaga(){return g}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}},L={class:"sections-saga"};function j(s,i,t,e,o,a){return l(),u("div",L,[(l(!0),u(k,null,x(e.stories,r=>(l(),p(e.BasicCard,{slug:r.key,key:r.key,title:r.name,time:parseInt(r.time),isStory:""},null,8,["slug","title","time"]))),128))])}const H=_(P,[["render",j],["__scopeId","data-v-ac59869a"]]),I={__name:"SagaPage",props:{saga:{type:Object,default:{}}},setup(s,{expose:i}){i();const t=s,{getTime:e,html:o}=g(t.saga),a=e(),r=o(),m={props:t,getTime:e,html:o,totalTime:a,descriptionHtml:r,get t(){return f},get useSaga(){return g},get VText(){return h},get VContainer(){return y},SagaStories:H,SectionsDefault:V,Breadcrumbs:v,LanguageSwitcher:C};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}},N=["src","title"],O={class:"saga-page__title"},D=["innerHTML"];function M(s,i,t,e,o,a){return l(),p(e.VContainer,{size:"xl",class:"saga-page"},{default:c(()=>[n(e.Breadcrumbs,{"current-page":t.saga.name,"saga-name":t.saga.name,"saga-key":t.saga.key,"is-story":!1},null,8,["current-page","saga-name","saga-key"]),n(e.LanguageSwitcher,{order:t.saga.order,type:"saga",class:"saga-page__language-switcher"},null,8,["order"]),t.saga.youtube?(l(),u("iframe",{key:0,class:"saga-page__iframe",src:`https://www.youtube.com/embed/videoseries?list=${t.saga.youtube}`,title:`Saga Playlist: ${t.saga.name}`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,N)):w("",!0),n(e.VContainer,{class:"saga-page__content"},{default:c(()=>[d("div",O,[n(e.VText,{as:"h1",variant:"header"},{default:c(()=>[T(B(t.saga.name),1)]),_:1})]),n(e.VText,null,{default:c(()=>[d("article",{innerHTML:e.descriptionHtml},null,8,D)]),_:1})]),_:1}),n(e.SectionsDefault,{title:`${e.t("page.saga.stories")}(${e.totalTime})`},{default:c(()=>[n(e.SagaStories,{saga:t.saga},null,8,["saga"])]),_:1},8,["title"])]),_:1})}const ae=_(I,[["render",M]]);export{ae as default};
