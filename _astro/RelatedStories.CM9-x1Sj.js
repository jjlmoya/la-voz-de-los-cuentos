import{_ as p,y as k,I as v}from"./_plugin-vue_export-helper.Cgt_oGRB.js";import{a as x}from"./index.BMPHkLeA.js";import{t as V}from"./index.D3Lt6ofz.js";/* empty css                      */import{c as m,d as h,e as o,b as n,a as T,w as l,F as b,r as N,j as i,o as c,f as d,t as s}from"./runtime-dom.esm-bundler.n5zixiYy.js";const B={__name:"RelatedStories",props:{currentStory:{type:Object,required:!0},allStories:{type:Array,required:!0},allSagas:{type:Array,default:()=>[]}},setup(u,{expose:y}){y();const t=u,e="es",_=i(()=>t.currentStory?.saga?t.allSagas.find(a=>a.key===t.currentStory.saga):null),f=i(()=>_.value?.name||null),r=i(()=>t.currentStory?.saga?t.allStories.filter(a=>a.saga===t.currentStory.saga&&a.key!==t.currentStory.key).slice(0,4):[]),g={props:t,lang:e,currentSaga:_,sagaName:f,relatedStories:r,formatTime:a=>{if(!a)return"0";const S=parseFloat(a.replace(",","."));return Math.round(S/60)||Math.round(S)},computed:i,get VText(){return v},get VImage(){return k},get toStory(){return x},get t(){return V}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},I={key:0,class:"related-stories"},j={class:"related-stories__header"},w={class:"related-stories__grid"},F=["href"],q={class:"related-story__image"},A={class:"related-story__content"};function C(u,y,t,e,_,f){return e.relatedStories.length>0?(c(),m("section",I,[o("div",j,[n(e.VText,{as:"h3",variant:"subtitle",color:"high"},{default:l(()=>[d(s(e.t("story.related.title")),1)]),_:1}),e.sagaName?(c(),T(e.VText,{key:0,as:"p",variant:"caption",color:"medium"},{default:l(()=>[d(s(e.t("story.related.from_saga"))+": "+s(e.sagaName),1)]),_:1})):h("",!0)]),o("div",w,[(c(!0),m(b,null,N(e.relatedStories,r=>(c(),m("article",{key:r.key,class:"related-story"},[o("a",{href:e.toStory(r.key),class:"related-story__link"},[o("div",q,[n(e.VImage,{src:`/assets/stories/${e.lang}/${r.key}.webp`,alt:r.name,loading:"lazy"},null,8,["src","alt"])]),o("div",A,[n(e.VText,{as:"h4",variant:"body",color:"high",class:"related-story__title"},{default:l(()=>[d(s(r.name),1)]),_:2},1024),n(e.VText,{as:"p",variant:"caption",color:"medium",class:"related-story__time"},{default:l(()=>[d(s(e.formatTime(r.time))+" min ",1)]),_:2},1024)])],8,F)]))),128))])])):h("",!0)}const L=p(B,[["render",C],["__scopeId","data-v-9570c483"]]);export{L as default};
