import{t as w}from"./index.BBvPNGtS.js";import{A as B,I as D,w as T,g as b}from"./index-FitP4J_6.QqNa7N4F.js";import{L as N}from"./LoadingMessage.BXuTJZMJ.js";import{S as A}from"./SongList.6ffaRYdH.js";import{g as x}from"./index.CqFlbLC_.js";/* empty css                         */import{_ as F}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{g as I,a as d,e as z,w as a,c as _,r as u,j as k,o as c,m as S,d as g,b as h,t as m}from"./runtime-core.esm-bundler.OheDorFq.js";import"./runtime-dom.esm-bundler.0lIbTe_P.js";/* empty css                         *//* empty css                       */import"./index.Dj5k6ggm.js";import"./landings.D6rrVUZj.js";const Q={__name:"FilteredSongs",setup(C,{expose:t}){t();const v=x(),e=u(""),s=u("date"),f=u("desc"),r=u(!1),O=o=>{r.value=!0,s.value===o?p():s.value=o,setTimeout(()=>{r.value=!1},1e3)},p=()=>{f.value=f.value==="asc"?"desc":"asc"},V=o=>{const[n,i,l]=o.split("/").map(Number);return new Date(l,i-1,n)},L=k(()=>{let o=v;if(e.value){const n=e.value.toLowerCase();o=o.filter(i=>i.name.toLowerCase().includes(n))}return o.slice().sort((n,i)=>{let l=0;return s.value==="date"?l=V(n.date)-V(i.date):s.value==="time"?l=parseFloat(n.time.replace(",","."))-parseFloat(i.time.replace(",",".")):s.value==="name"&&(l=n.name.localeCompare(i.name)),f.value==="asc"?l:-l})}),y={songs:v,searchQuery:e,sortOrder:s,sortDirection:f,isLoading:r,setSortOrder:O,toggleSortDirection:p,parseDate:V,filteredAndSortedSongs:L,get t(){return w},get VContainer(){return b},get VButton(){return T},get VText(){return D},get VInput(){return B},ref:u,computed:k,LoadingMessage:N,SongList:A,get getSongs(){return x}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},j={class:"sections-filtered"},M={class:"sections-filtered__content sections-filtered__content--songs"};function q(C,t,v,e,s,f){return c(),I("div",j,[d(e.VContainer,{class:"sections-filtered__search-bar",size:"xs"},{default:a(()=>[d(e.VInput,{type:"text",modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=r=>e.searchQuery=r),placeholder:e.t("page.songs.searcher.placeholder"),class:"search-input"},null,8,["modelValue","placeholder"])]),_:1}),d(e.VContainer,{class:"sections-filtered__bar",size:"xs"},{default:a(()=>[d(e.VButton,{variant:"ghost",class:S({active:e.sortOrder==="date"}),onClick:t[1]||(t[1]=r=>e.setSortOrder("date"))},{default:a(()=>[g(m(e.t("page.songs.order.date"))+" ",1),e.sortOrder==="date"?(c(),_(e.VText,{key:0,color:"high"},{default:a(()=>[g(m(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):h("",!0)]),_:1},8,["class"]),d(e.VButton,{variant:"ghost",class:S({active:e.sortOrder==="time"}),onClick:t[2]||(t[2]=r=>e.setSortOrder("time"))},{default:a(()=>[g(m(e.t("page.songs.order.duration"))+" ",1),e.sortOrder==="time"?(c(),_(e.VText,{key:0,color:"high"},{default:a(()=>[g(m(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):h("",!0)]),_:1},8,["class"]),d(e.VButton,{variant:"ghost",class:S({active:e.sortOrder==="name"}),onClick:t[3]||(t[3]=r=>e.setSortOrder("name"))},{default:a(()=>[g(m(e.t("page.songs.order.name"))+" ",1),e.sortOrder==="name"?(c(),_(e.VText,{key:0,color:"high"},{default:a(()=>[g(m(e.sortDirection==="asc"?"▲":"▼"),1)]),_:1})):h("",!0)]),_:1},8,["class"])]),_:1}),z("div",M,[e.isLoading?(c(),_(e.LoadingMessage,{key:0,messages:[e.t("loading.adventure"),e.t("loading.book"),e.t("loading.characters"),e.t("loading.worlds"),e.t("loading.potions"),e.t("loading.treasures")],interval:1500},null,8,["messages"])):(c(),_(e.SongList,{key:1,songs:e.filteredAndSortedSongs},null,8,["songs"]))])])}const ee=F(Q,[["render",q],["__scopeId","data-v-d7f5a83d"]]);export{ee as default};
