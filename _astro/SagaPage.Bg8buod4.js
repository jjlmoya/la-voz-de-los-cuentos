import{t as f}from"./index.sXTMffxN.js";import{b as S}from"./index.BS2hCX5v.js";import{g as y,I as h}from"./index-FitP4J_6.TiJPR-Ae.js";import{B as b}from"./Basic.Ba23dnJW.js";/* empty css                      */import{_}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{g as u,F as k,h as x,o as l,c as p,w as c,a as o,b as w,e as d,d as T,t as B}from"./runtime-core.esm-bundler.Yc9PgZSd.js";import{S as V}from"./Default.B-rNUrqn.js";import{B as v}from"./Breadcrumbs.CS9OMcxE.js";import{L as C}from"./LanguageSwitcher.BYr3bjth.js";import"./runtime-dom.esm-bundler.BU_tAFEj.js";import"./index.brZL-3I0.js";import"./useStory.DtfJMbza.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */function m(s){const i=()=>{const a=t().reduce((r,g)=>r+parseInt(g.time),0);return`${Math.ceil(a/60)} min`},t=()=>S().filter(a=>a.saga===s.key);return{getStories:t,getTime:i,firstParagraph:()=>s.description.split(`
`).filter(a=>a.trim()!=="")[0],html:()=>s.description.split(`
`).filter(a=>a.trim()!=="").map((a,r)=>`<p key=${r}>${a}</p>`).join("<br>")}}const P={__name:"SagaStories",props:{saga:{default:{},type:Object}},setup(s,{expose:i}){i();const t=s,{getStories:e}=m(t.saga),n=e(),a={props:t,getStories:e,stories:n,BasicCard:b,get useSaga(){return m}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}},L={class:"sections-saga"};function j(s,i,t,e,n,a){return l(),u("div",L,[(l(!0),u(k,null,x(e.stories,r=>(l(),p(e.BasicCard,{slug:r.key,key:r.key,title:r.name,time:parseInt(r.time),isStory:""},null,8,["slug","title","time"]))),128))])}const H=_(P,[["render",j],["__scopeId","data-v-ac59869a"]]),I={__name:"SagaPage",props:{saga:{type:Object,default:{}}},setup(s,{expose:i}){i();const t=s,{getTime:e,html:n}=m(t.saga),a=e(),r=n(),g={props:t,getTime:e,html:n,totalTime:a,descriptionHtml:r,get t(){return f},get useSaga(){return m},get VText(){return h},get VContainer(){return y},SagaStories:H,SectionsDefault:V,Breadcrumbs:v,LanguageSwitcher:C};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},N=["src","title"],O={class:"saga-page__title"},D=["innerHTML"];function M(s,i,t,e,n,a){return l(),p(e.VContainer,{size:"xl",class:"saga-page"},{default:c(()=>[o(e.Breadcrumbs,{"current-page":t.saga.name,"saga-name":t.saga.name,"saga-key":t.saga.key,"is-story":!1},null,8,["current-page","saga-name","saga-key"]),o(e.LanguageSwitcher,{order:t.saga.order,type:"saga",class:"saga-page__language-switcher"},null,8,["order"]),t.saga.youtube?(l(),u("iframe",{key:0,class:"saga-page__iframe",src:`https://www.youtube.com/embed/videoseries?list=${t.saga.youtube}`,title:`Saga Playlist: ${t.saga.name}`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,N)):w("",!0),o(e.VContainer,{class:"saga-page__content"},{default:c(()=>[d("div",O,[o(e.VText,{as:"h1",variant:"header"},{default:c(()=>[T(B(t.saga.name),1)]),_:1})]),o(e.VText,null,{default:c(()=>[d("article",{innerHTML:e.descriptionHtml},null,8,D)]),_:1})]),_:1}),o(e.SectionsDefault,{title:`${e.t("page.saga.stories")}(${e.totalTime})`},{default:c(()=>[o(e.SagaStories,{saga:t.saga},null,8,["saga"])]),_:1},8,["title"])]),_:1})}const te=_(I,[["render",M]]);export{te as default};
