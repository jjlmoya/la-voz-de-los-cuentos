import{_ as p,I as k,y as v}from"./_plugin-vue_export-helper.DrVY87Ov.js";import{b as x}from"./index.DIhC7bAX.js";import{t as V}from"./index.DQq27ALr.js";/* empty css                      */import{l as n,c as m,e as o,b as l,w as i,a as T,d as h,F as b,r as N,o as c,f as d,t as s}from"./runtime-dom.esm-bundler.5IqPX93W.js";const B={__name:"RelatedStories",props:{currentStory:{type:Object,required:!0},allStories:{type:Array,required:!0},allSagas:{type:Array,default:()=>[]}},setup(u,{expose:y}){y();const t=u,e="es",_=n(()=>t.currentStory?.saga?t.allSagas.find(a=>a.key===t.currentStory.saga):null),f=n(()=>_.value?.name||null),r=n(()=>t.currentStory?.saga?t.allStories.filter(a=>a.saga===t.currentStory.saga&&a.key!==t.currentStory.key).slice(0,4):[]),g={props:t,lang:e,currentSaga:_,sagaName:f,relatedStories:r,formatTime:a=>{if(!a)return"0";const S=parseFloat(a.replace(",","."));return Math.round(S/60)||Math.round(S)},computed:n,get VText(){return k},get VImage(){return v},get toStory(){return x},get t(){return V}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},I={key:0,class:"related-stories"},w={class:"related-stories__header"},F={class:"related-stories__grid"},j=["href"],q={class:"related-story__image"},A={class:"related-story__content"};function C(u,y,t,e,_,f){return e.relatedStories.length>0?(c(),m("section",I,[o("div",w,[l(e.VText,{as:"h3",variant:"subtitle",color:"high"},{default:i(()=>[d(s(e.t("story.related.title")),1)]),_:1}),e.sagaName?(c(),T(e.VText,{key:0,as:"p",variant:"caption",color:"medium"},{default:i(()=>[d(s(e.t("story.related.from_saga"))+": "+s(e.sagaName),1)]),_:1})):h("",!0)]),o("div",F,[(c(!0),m(b,null,N(e.relatedStories,r=>(c(),m("article",{key:r.key,class:"related-story"},[o("a",{href:e.toStory(r.key),class:"related-story__link"},[o("div",q,[l(e.VImage,{src:`/assets/stories/${e.lang}/${r.key}.webp`,alt:r.name,loading:"lazy"},null,8,["src","alt"])]),o("div",A,[l(e.VText,{as:"h4",variant:"body",color:"high",class:"related-story__title"},{default:i(()=>[d(s(r.name),1)]),_:2},1024),l(e.VText,{as:"p",variant:"caption",color:"medium",class:"related-story__time"},{default:i(()=>[d(s(e.formatTime(r.time))+" min ",1)]),_:2},1024)])],8,j)]))),128))])])):h("",!0)}const L=p(B,[["render",C],["__scopeId","data-v-9570c483"]]);export{L as default};
