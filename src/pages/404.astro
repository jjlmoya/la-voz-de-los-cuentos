---
import '../styles/404.css'
import NavLayout from '../layouts/NavLayout.astro'
import t from '../translations'
import { getRandomIllustration, getIllustrationUrl, getFallbackIllustrationUrl } from '../utils/404-illustrations'
import { toStories, toSagas, toSongs } from '../router'

const illustration = getRandomIllustration()
const illustrationUrl = getIllustrationUrl(illustration.filename)
const fallbackUrl = getFallbackIllustrationUrl()
---

<NavLayout
  title={t('page.404.title')}
  description={t('page.404.message')}
  url="/404"
  robots="noindex, nofollow"
>
  <div class="voz-cuentos-body">
    <div class="voz-cuentos-container">
      <!-- Título arriba del todo - Divertido -->
      <h1 class="voz-cuentos-title">{t('page.404.title')}</h1>

      <!-- Ilustración con animación -->
      <div class="voz-cuentos-illustration">
        <picture>
          <source srcset={illustrationUrl} type="image/webp" />
          <img
            src={fallbackUrl}
            alt={illustration.name}
            class="voz-cuentos-illustration-img"
          />
        </picture>
      </div>

      <!-- Mensaje - Invitando a buscar -->
      <p class="voz-cuentos-message">
        {t('page.404.message')}
      </p>

      <!-- Navegación con múltiples opciones con iconos -->
      <div class="voz-cuentos-nav">
        <a href={toStories()} class="voz-cuentos-link voz-cuentos-link--icon">
          <img src="/assets/menu-icons/stories.webp" alt={t('page.404.stories')} class="voz-cuentos-link-icon" />
          <span class="voz-cuentos-link-text">{t('page.404.stories')}</span>
        </a>
        <a href={toSagas()} class="voz-cuentos-link voz-cuentos-link--icon">
          <img src="/assets/menu-icons/sagas.webp" alt={t('page.404.sagas')} class="voz-cuentos-link-icon" />
          <span class="voz-cuentos-link-text">{t('page.404.sagas')}</span>
        </a>
        <a href={toSongs()} class="voz-cuentos-link voz-cuentos-link--icon">
          <img src="/assets/menu-icons/songs.webp" alt={t('page.404.songs')} class="voz-cuentos-link-icon" />
          <span class="voz-cuentos-link-text">{t('page.404.songs')}</span>
        </a>
        <a href="/" class="voz-cuentos-link voz-cuentos-link--icon voz-cuentos-link--home">
          <img src="/assets/menu-icons/home.webp" alt={t('page.404.home')} class="voz-cuentos-link-icon" />
          <span class="voz-cuentos-link-text">{t('page.404.home')}</span>
        </a>
      </div>
    </div>
  </div>
</NavLayout>
